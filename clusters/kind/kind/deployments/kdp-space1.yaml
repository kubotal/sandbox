

deployments:


  - name: space1-pgadmin
    component: pgadmin
    namespace: space1-sys
    vars:
      admin:
        user: admin@pgadmin.com
        password: admin123
      ingressInfix: space1
    dependsOn:
      - deployment: ingress-nginx
        module: main

  - name: space1-hive-metastore
    enabled: true
    component: hive-metastore
    namespace: space1-sys
    vars:
      s3access:
        url: https://minio.minio1.svc:9000
        accessKey: minio
        secretKey: minio123
    dependsOn:
      - deployment: cnpg
        module: main

  - name: space1-spark-history-server
    enabled: true
    component: spark-history-server
    namespace: space1-sys
    vars:
      ingressInfix: space1
      eventLogDir:  s3a://space1/eventLogs
      s3:
        url: https://minio.minio1.svc:9000
        accessKey:
          secretName: minio
          keyProperty: accessKey
          secretProperty: secretKey
        adminGroups: space-admin     # Comma separated list


  - name: space1-workspace
    enabled: true
    namespace: space1-sys
    component: workspace
    vars:
      namespace: space1

  - name: space1-secrets
    component: secrets
    namespace: space1
    vars:
      secrets:
        - name: minio
          data:
            - key: accessKey
              value: minio
            - key: secretKey
              value: minio123
    dependsOn:
      - deployment: space1-workspace
        module: main

  - name: space1-sys-secrets
    component: secrets
    namespace: space1-sys
    vars:
      secrets:
        - name: minio
          data:
            - key: accessKey
              value: minio
            - key: secretKey
              value: minio123


