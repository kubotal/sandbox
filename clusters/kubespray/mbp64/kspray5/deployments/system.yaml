
deployments:

  - name: reloader
    component: reloader
    namespace: kube-tools

  - name: cert-manager
    component: cert-manager
    namespace: cert-manager
    modules:
      - name: trust
        enabled: true

  - name: metallb
    component: metallb
    namespace: metallb

  - name: ingress-nginx
    component: ingress-nginx
    namespace: ingress-nginx
    dependsOn:
      - deployment: metallb
        module: main
      - deployment: cert-manager
        module: issuers

  - name: replicator
    component: replicator
    namespace: kube-tools

  - name: secret-generator
    component: secret-generator
    namespace: kube-tools

  - name: skas
    enabled: true
    component: skas
    namespace: skas-system
    vars:
      ldap: # openldap
    dependsOn:
      - deployment: ingress-nginx
        module: main

  - name: topolvm
    enabled: true
    component: topolvm
    namespace: topolvm-system


  - name: openldap
    enabled: true
    component: openldap
    namespace: openldap
    vars:
      replicaCount: 2 # Should be in context
      ldapDomain:  "odp.com"
      adminUser: admin
      adminPassword: admin123
      configUser: "admin"
      configPassword: admin123
    dependsOn:
      - deployment: topolvm
        module: main
